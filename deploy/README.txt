The process directory ("network") contains the logic generated by the command:

$ python runAnomaly.py <<topology file>>.any <<configuration file>> <<this computer name>>

The file name "network" is defined in core.SystemParameters as PROCESS_DIR.

Once the process directory has been created, the above command will also have created a file called start_network.py. This will create and connect the processes defined in the topology file.

$ python start_network.py

-------------------
Configuration Files
-------------------

The configuration file mentioned in the first command should contain text that can be parsed as a python dictionary.
When running a toplogy on a single machine, the contents of the file should be an empty dictionary (i.e. two opposing curly braces, like so: {} )
In this situation, the arguments <<this computer name>> is required but discarded. Use any integer.

When running a toplogy on several machines, the contents of the configuration file should be a meaningful dictionary, e.g. {COMPUTER_A: [process_1, process_2], COMPUTER_B: [process_3]}

Then <<this computer name>> should match a string in the configuration file.

--------------
TOPOLOGY FILES
--------------

Topology files describe the logic of the network. Here is an example:

agent Main {
    process: p1
    type: anomaly
    function: map_multiple_streams
    parameters {
        element_function: lambda x: x
    }
     
    input_streams {
        numbers.dat
    }
    output_streams {
        main
    }
}

agent TimesSeven {
    process: p2
    type: anomaly
    function: list_operator 
    parameters {
        list_op: map
        element_function: lambda x: x * 7
    }
    
    input_streams {
        main
    }
    output_streams {
        out0
    }
}

This file describes two agents, Main and TimesSeven. Main reads input from a raw text file called numbers.dat. The file numbers.dat is simply a list of numbers separated by newlines.

TimesSeven takes the output of Main as input, and outputs a stream called out0 consisting of each element of main multiplied by seven.

The functions map_multiple_streams and list_operator can be found in core.Agent along with a few others.

To run the example:
$ python runAnomaly.py readme.any no_external_config.txt 1
$ python start_network.py

Clean up the "network" directory and start_network.py when you are done, or remember to run the first command each time you wish to generate a new network of agents.

TODO: clean up core.Agent



